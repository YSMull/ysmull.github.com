---
layout: oj
title: "Longest Palindromic Substring"
date: 2017-03-27 02:17:47
leetcode_id: 5
emoji: ğŸ˜€
tags:
    - oj
    - leetcode
---
[åŸé¢˜é“¾æ¥](https://leetcode.com/problems/longest-palindromic-substring/#/description)

# é¢˜ç›®æè¿°
æ±‚å­—ç¬¦ä¸²çš„æœ€é•¿å›æ–‡å­ä¸²ã€‚

# åŠ¨å½’è§£æ³•
ä¹‹å‰å†™äº†ä¸¤é¢˜åŠ¨å½’çš„é¢˜ï¼Œæƒ³ç»ƒä¹ ä¸€ä¸‹åŠ¨æ€è§„åˆ’ï¼Œç°åœ¨æ—¶é—´æ˜¯ 2017-03-27 02:18:52 ï¼Œèµ°äº†å¾ˆå¤šå¼¯è·¯ï¼ŒæŠ˜è…¾äº†ä¸€ä¸ªå°æ—¶ï¼Œç»ˆäºç‹¬ç«‹æå‡ºäº†çŠ¶æ€è½¬ç§»æ–¹ç¨‹ï¼Œç›®å‰dpå¯¹æˆ‘æ¥è¯´è¿˜æ˜¯æŒºè‰°éš¾çš„...

```text
å®šä¹‰s[i,j]æ ‡å¿—ç€ä»¥iå¼€å¤´jç»“å°¾çš„å­ä¸²æ˜¯å¦æ˜¯å›æ–‡å­ä¸²
s[i,j] (i <= j) = 1 if i == j
                = 1 if i == j-1 && a[i] == a[j]
                = 0 if i == j-1 && a[i] != a[j]
                = 0 if s[i+1, j-1] == 0
                = 0 if s[i+1, j-1] == 1 && a[i] != a[j]
                = 1 if s[i+1, j-1] == 1 && a[i] == a[j]
```
åŒ–ç®€ =>
```text
s[i,j] (i <= j) = 1            if i == j
                = a[i] == a[j] if i == j-1
                = s[i+1, j-1] && (a[i] == a[j])
```
# ä»£ç 

```c
string longestPalindrome(string s) {
    int dp[1000][1000];
    memset(dp, -1, 1000000 * sizeof(int));
    int maxLen = 1, maxi = 0;
    for (int i = s.length() - 1; i >= 0; i--) {
        for (int j = s.length() - 1; j >= i; j--) {
            if (i == j) {
                dp[i][j] = 1;
            } else if (i == j - 1) {
                if (dp[i][j] = (s[i] == s[j])) {
                    if (j - i + 1 > maxLen) {
                        maxi = i;
                        maxLen = j - i + 1;
                    }
                }
            } else if (dp[i][j] = dp[i + 1][j - 1] && (s[i] == s[j])) {
                if (j - i + 1 > maxLen) {
                    maxi = i;
                    maxLen = j - i + 1;
                }
            }
        }
    }
    return s.substr(maxi, maxLen);
}
```

å†æä¾›ä¸€ä¸ªå…¶å®ƒè§£æ³•çš„ä»£ç ([æ¥æº](https://discuss.leetcode.com/topic/23498/very-simple-clean-java-solution))
```java
public class Solution {
    private int lo, maxLen;

    public String longestPalindrome(String s) {
        int len = s.length();
        if (len < 2)
            return s;

        for (int i = 0; i < len - 1; i++) {
            extendPalindrome(s, i, i); //assume odd length, try to extend Palindrome as possible
            extendPalindrome(s, i, i + 1); //assume even length.
        }
        return s.substring(lo, lo + maxLen);
    }

    private void extendPalindrome(String s, int j, int k) {
        while (j >= 0 && k < s.length() && s.charAt(j) == s.charAt(k)) {
            j--;
            k++;
        }
        if (maxLen < k - j - 1) {
            lo = j + 1;
            maxLen = k - j - 1;
        }
    }
}
```
